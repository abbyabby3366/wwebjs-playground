import{S as gs,i as xs,s as ms,n as zt,d as n,x as bs,A as yt,y as U,E as _s,a as B,b as $e,c as e,r as Oe,o as l,B as as,p as ys,h as u,e as t,f as i,q as y,g as O,k as v,j as s,t as N,v as Cs,D as ns,m as Es}from"../chunks/ZyFKe9iZ.js";import{e as rs}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";const ws=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{document:os}=ws;function is(a,o,r){const d=a.slice();return d[13]=o[r],d}function Ds(a){let o,r,d,w='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Direction</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Content</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">From</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">To</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th></tr>',D,_,m=rs(a[0]),h=[];for(let f=0;f<m.length;f+=1)h[f]=ds(is(a,m,f));return{c(){o=s("div"),r=s("table"),d=s("thead"),d.innerHTML=w,D=v(),_=s("tbody");for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){o=t(f,"DIV",{class:!0});var g=i(o);r=t(g,"TABLE",{class:!0});var c=i(r);d=t(c,"THEAD",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-1k3vio9"&&(d.innerHTML=w),D=u(c),_=t(c,"TBODY",{class:!0});var C=i(_);for(let L=0;L<h.length;L+=1)h[L].l(C);C.forEach(n),c.forEach(n),g.forEach(n),this.h()},h(){l(d,"class","bg-gray-50"),l(_,"class","bg-white divide-y divide-gray-200"),l(r,"class","w-full"),l(o,"class","overflow-x-auto")},m(f,g){$e(f,o,g),e(o,r),e(r,d),e(r,D),e(r,_);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(_,null)},p(f,g){if(g&1){m=rs(f[0]);let c;for(c=0;c<m.length;c+=1){const C=is(f,m,c);h[c]?h[c].p(C,g):(h[c]=ds(C),h[c].c(),h[c].m(_,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=m.length}},d(f){f&&n(o),Es(h,f)}}}function Ts(a){let o,r="No messages found. Try adjusting your search criteria.";return{c(){o=s("div"),o.textContent=r,this.h()},l(d){o=t(d,"DIV",{class:!0,"data-svelte-h":!0}),y(o)!=="svelte-taj68"&&(o.textContent=r),this.h()},h(){l(o,"class","text-center py-8 text-gray-500")},m(d,w){$e(d,o,w)},p:zt,d(d){d&&n(o)}}}function ds(a){let o,r,d,w,D=vs(a[13].direction)+"",_,m,h,f=a[13].direction+"",g,c,C,L,Y=a[13].type+"",I,b,H,E=a[13].content+"",G,q,te,se=a[13].from+"",F,K,le,ae=a[13].to+"",T,z,ne,P=cs(a[13].timestamp)+"",Ce,M,re,S,ce=a[13].status+"",A,Ee,R;return{c(){o=s("tr"),r=s("td"),d=s("span"),w=s("span"),_=N(D),m=v(),h=s("span"),g=N(f),c=v(),C=s("td"),L=s("span"),I=N(Y),b=v(),H=s("td"),G=N(E),q=v(),te=s("td"),F=N(se),K=v(),le=s("td"),T=N(ae),z=v(),ne=s("td"),Ce=N(P),M=v(),re=s("td"),S=s("span"),A=N(ce),R=v(),this.h()},l(k){o=t(k,"TR",{class:!0});var p=i(o);r=t(p,"TD",{class:!0});var Z=i(r);d=t(Z,"SPAN",{class:!0});var J=i(d);w=t(J,"SPAN",{});var Je=i(w);_=O(Je,D),Je.forEach(n),m=u(J),h=t(J,"SPAN",{class:!0});var Ne=i(h);g=O(Ne,f),Ne.forEach(n),J.forEach(n),Z.forEach(n),c=u(p),C=t(p,"TD",{class:!0});var Q=i(C);L=t(Q,"SPAN",{class:!0});var Le=i(L);I=O(Le,Y),Le.forEach(n),Q.forEach(n),b=u(p),H=t(p,"TD",{class:!0});var $=i(H);G=O($,E),$.forEach(n),q=u(p),te=t(p,"TD",{class:!0});var ee=i(te);F=O(ee,se),ee.forEach(n),K=u(p),le=t(p,"TD",{class:!0});var Qe=i(le);T=O(Qe,ae),Qe.forEach(n),z=u(p),ne=t(p,"TD",{class:!0});var Pe=i(ne);Ce=O(Pe,P),Pe.forEach(n),M=u(p),re=t(p,"TD",{class:!0});var j=i(re);S=t(j,"SPAN",{class:!0});var Ae=i(S);A=O(Ae,ce),Ae.forEach(n),j.forEach(n),R=u(p),p.forEach(n),this.h()},h(){l(h,"class","capitalize"),l(d,"class","flex items-center space-x-2"),l(r,"class","px-6 py-4 whitespace-nowrap"),l(L,"class","capitalize"),l(C,"class","px-6 py-4 whitespace-nowrap"),l(H,"class","px-6 py-4 max-w-xs truncate"),l(te,"class","px-6 py-4 whitespace-nowrap"),l(le,"class","px-6 py-4 whitespace-nowrap"),l(ne,"class","px-6 py-4 whitespace-nowrap"),l(S,"class",Ee="px-2 py-1 text-xs rounded-full "+us(a[13].status)),l(re,"class","px-6 py-4 whitespace-nowrap"),l(o,"class","hover:bg-gray-50")},m(k,p){$e(k,o,p),e(o,r),e(r,d),e(d,w),e(w,_),e(d,m),e(d,h),e(h,g),e(o,c),e(o,C),e(C,L),e(L,I),e(o,b),e(o,H),e(H,G),e(o,q),e(o,te),e(te,F),e(o,K),e(o,le),e(le,T),e(o,z),e(o,ne),e(ne,Ce),e(o,M),e(o,re),e(re,S),e(S,A),e(o,R)},p(k,p){p&1&&D!==(D=vs(k[13].direction)+"")&&B(_,D),p&1&&f!==(f=k[13].direction+"")&&B(g,f),p&1&&Y!==(Y=k[13].type+"")&&B(I,Y),p&1&&E!==(E=k[13].content+"")&&B(G,E),p&1&&se!==(se=k[13].from+"")&&B(F,se),p&1&&ae!==(ae=k[13].to+"")&&B(T,ae),p&1&&P!==(P=cs(k[13].timestamp)+"")&&B(Ce,P),p&1&&ce!==(ce=k[13].status+"")&&B(A,ce),p&1&&Ee!==(Ee="px-2 py-1 text-xs rounded-full "+us(k[13].status))&&l(S,"class",Ee)},d(k){k&&n(o)}}}function Is(a){let o,r,d,w='<h1 class="text-3xl font-bold text-gray-900">Message Database</h1> <p class="text-gray-600">Search and analyze your message history</p>',D,_,m,h="Search Messages",f,g,c,C,L="Direction",Y,I,b,H="All",E,G="Sent",q,te="Received",se,F,K,le="Type",ae,T,z,ne="All",P,Ce="Text",M,re="Image",S,ce="Video",A,Ee="Audio",R,k="Document",p,Z,J,Je="Search Text",Ne,Q,Le,$,ee,Qe="Limit",Pe,j,Ae,ue,oe,We=a[5]?"Searching...":"Search Messages",et,Ct,ve,fe,Mt="Clear Filters",Et,ie,wt,tt,Dt,W,je,he,Be,Ye=a[0].length+"",st,Tt,we,Rt="Total Messages",It,qe,pe,ze,Ge=a[0].filter(fs).length+"",lt,kt,De,Ut="Received",Vt,Me,_e,Re,Ke=a[0].filter(hs).length+"",at,St,Te,Ht="Sent",Ot,Ue,ge,He,Xe=new Set(a[0].map(ps)).size+"",nt,Nt,Ie,Ft="Unique Contacts",Lt,de,xe,ke,Jt="Search Results",Pt,Ve,Ze=a[0].length+"",rt,At,jt,Bt,Qt;function Wt(x,V){return x[0].length===0?Ts:Ds}let ot=Wt(a),X=ot(a);return{c(){o=v(),r=s("div"),d=s("div"),d.innerHTML=w,D=v(),_=s("div"),m=s("h3"),m.textContent=h,f=v(),g=s("div"),c=s("div"),C=s("label"),C.textContent=L,Y=v(),I=s("select"),b=s("option"),b.textContent=H,E=s("option"),E.textContent=G,q=s("option"),q.textContent=te,se=v(),F=s("div"),K=s("label"),K.textContent=le,ae=v(),T=s("select"),z=s("option"),z.textContent=ne,P=s("option"),P.textContent=Ce,M=s("option"),M.textContent=re,S=s("option"),S.textContent=ce,A=s("option"),A.textContent=Ee,R=s("option"),R.textContent=k,p=v(),Z=s("div"),J=s("label"),J.textContent=Je,Ne=v(),Q=s("input"),Le=v(),$=s("div"),ee=s("label"),ee.textContent=Qe,Pe=v(),j=s("input"),Ae=v(),ue=s("div"),oe=s("button"),et=N(We),Ct=v(),ve=s("div"),fe=s("button"),fe.textContent=Mt,Et=v(),ie=s("button"),wt=N("Export Results"),Dt=v(),W=s("div"),je=s("div"),he=s("div"),Be=s("div"),st=N(Ye),Tt=v(),we=s("div"),we.textContent=Rt,It=v(),qe=s("div"),pe=s("div"),ze=s("div"),lt=N(Ge),kt=v(),De=s("div"),De.textContent=Ut,Vt=v(),Me=s("div"),_e=s("div"),Re=s("div"),at=N(Ke),St=v(),Te=s("div"),Te.textContent=Ht,Ot=v(),Ue=s("div"),ge=s("div"),He=s("div"),nt=N(Xe),Nt=v(),Ie=s("div"),Ie.textContent=Ft,Lt=v(),de=s("div"),xe=s("div"),ke=s("h3"),ke.textContent=Jt,Pt=v(),Ve=s("span"),rt=N(Ze),At=N(" messages found"),jt=v(),X.c(),this.h()},l(x){ys("svelte-5ck4cp",os.head).forEach(n),o=u(x),r=t(x,"DIV",{class:!0});var me=i(r);d=t(me,"DIV",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-kv99i5"&&(d.innerHTML=w),D=u(me),_=t(me,"DIV",{class:!0});var Fe=i(_);m=t(Fe,"H3",{class:!0,"data-svelte-h":!0}),y(m)!=="svelte-14qr4mb"&&(m.textContent=h),f=u(Fe),g=t(Fe,"DIV",{class:!0});var be=i(g);c=t(be,"DIV",{});var it=i(c);C=t(it,"LABEL",{class:!0,"data-svelte-h":!0}),y(C)!=="svelte-bxc9n8"&&(C.textContent=L),Y=u(it),I=t(it,"SELECT",{class:!0});var dt=i(I);b=t(dt,"OPTION",{"data-svelte-h":!0}),y(b)!=="svelte-zg56oz"&&(b.textContent=H),E=t(dt,"OPTION",{"data-svelte-h":!0}),y(E)!=="svelte-1l307hm"&&(E.textContent=G),q=t(dt,"OPTION",{"data-svelte-h":!0}),y(q)!=="svelte-krtn1a"&&(q.textContent=te),dt.forEach(n),it.forEach(n),se=u(be),F=t(be,"DIV",{});var ct=i(F);K=t(ct,"LABEL",{class:!0,"data-svelte-h":!0}),y(K)!=="svelte-77szuf"&&(K.textContent=le),ae=u(ct),T=t(ct,"SELECT",{class:!0});var Se=i(T);z=t(Se,"OPTION",{"data-svelte-h":!0}),y(z)!=="svelte-zg56oz"&&(z.textContent=ne),P=t(Se,"OPTION",{"data-svelte-h":!0}),y(P)!=="svelte-1mqqvia"&&(P.textContent=Ce),M=t(Se,"OPTION",{"data-svelte-h":!0}),y(M)!=="svelte-1btvcj0"&&(M.textContent=re),S=t(Se,"OPTION",{"data-svelte-h":!0}),y(S)!=="svelte-1lc4yqk"&&(S.textContent=ce),A=t(Se,"OPTION",{"data-svelte-h":!0}),y(A)!=="svelte-swmyqm"&&(A.textContent=Ee),R=t(Se,"OPTION",{"data-svelte-h":!0}),y(R)!=="svelte-1cjsvwa"&&(R.textContent=k),Se.forEach(n),ct.forEach(n),p=u(be),Z=t(be,"DIV",{});var ut=i(Z);J=t(ut,"LABEL",{class:!0,"data-svelte-h":!0}),y(J)!=="svelte-dy0keq"&&(J.textContent=Je),Ne=u(ut),Q=t(ut,"INPUT",{placeholder:!0,class:!0}),ut.forEach(n),Le=u(be),$=t(be,"DIV",{});var vt=i($);ee=t(vt,"LABEL",{class:!0,"data-svelte-h":!0}),y(ee)!=="svelte-ufrra2"&&(ee.textContent=Qe),Pe=u(vt),j=t(vt,"INPUT",{type:!0,min:!0,max:!0,class:!0}),vt.forEach(n),be.forEach(n),Ae=u(Fe),ue=t(Fe,"DIV",{class:!0});var ft=i(ue);oe=t(ft,"BUTTON",{class:!0});var Yt=i(oe);et=O(Yt,We),Yt.forEach(n),Ct=u(ft),ve=t(ft,"DIV",{class:!0});var ht=i(ve);fe=t(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),y(fe)!=="svelte-1spd96k"&&(fe.textContent=Mt),Et=u(ht),ie=t(ht,"BUTTON",{class:!0});var Gt=i(ie);wt=O(Gt,"Export Results"),Gt.forEach(n),ht.forEach(n),ft.forEach(n),Fe.forEach(n),Dt=u(me),W=t(me,"DIV",{class:!0});var ye=i(W);je=t(ye,"DIV",{class:!0});var Kt=i(je);he=t(Kt,"DIV",{class:!0});var pt=i(he);Be=t(pt,"DIV",{class:!0});var Xt=i(Be);st=O(Xt,Ye),Xt.forEach(n),Tt=u(pt),we=t(pt,"DIV",{class:!0,"data-svelte-h":!0}),y(we)!=="svelte-zu57qv"&&(we.textContent=Rt),pt.forEach(n),Kt.forEach(n),It=u(ye),qe=t(ye,"DIV",{class:!0});var Zt=i(qe);pe=t(Zt,"DIV",{class:!0});var _t=i(pe);ze=t(_t,"DIV",{class:!0});var $t=i(ze);lt=O($t,Ge),$t.forEach(n),kt=u(_t),De=t(_t,"DIV",{class:!0,"data-svelte-h":!0}),y(De)!=="svelte-1hsn7as"&&(De.textContent=Ut),_t.forEach(n),Zt.forEach(n),Vt=u(ye),Me=t(ye,"DIV",{class:!0});var es=i(Me);_e=t(es,"DIV",{class:!0});var gt=i(_e);Re=t(gt,"DIV",{class:!0});var ts=i(Re);at=O(ts,Ke),ts.forEach(n),St=u(gt),Te=t(gt,"DIV",{class:!0,"data-svelte-h":!0}),y(Te)!=="svelte-1jjpn23"&&(Te.textContent=Ht),gt.forEach(n),es.forEach(n),Ot=u(ye),Ue=t(ye,"DIV",{class:!0});var ss=i(Ue);ge=t(ss,"DIV",{class:!0});var xt=i(ge);He=t(xt,"DIV",{class:!0});var ls=i(He);nt=O(ls,Xe),ls.forEach(n),Nt=u(xt),Ie=t(xt,"DIV",{class:!0,"data-svelte-h":!0}),y(Ie)!=="svelte-qbn4yf"&&(Ie.textContent=Ft),xt.forEach(n),ss.forEach(n),ye.forEach(n),Lt=u(me),de=t(me,"DIV",{class:!0});var mt=i(de);xe=t(mt,"DIV",{class:!0});var bt=i(xe);ke=t(bt,"H3",{class:!0,"data-svelte-h":!0}),y(ke)!=="svelte-1xpigpf"&&(ke.textContent=Jt),Pt=u(bt),Ve=t(bt,"SPAN",{class:!0});var qt=i(Ve);rt=O(qt,Ze),At=O(qt," messages found"),qt.forEach(n),bt.forEach(n),jt=u(mt),X.l(mt),mt.forEach(n),me.forEach(n),this.h()},h(){os.title="Database - WhatsApp Chat Portal",l(d,"class","mb-6"),l(m,"class","text-lg font-semibold mb-4"),l(C,"class","block text-sm font-medium text-gray-700 mb-1"),b.__value="",U(b,b.__value),E.__value="sent",U(E,E.__value),q.__value="received",U(q,q.__value),l(I,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"),a[2]===void 0&&as(()=>a[8].call(I)),l(K,"class","block text-sm font-medium text-gray-700 mb-1"),z.__value="",U(z,z.__value),P.__value="text",U(P,P.__value),M.__value="image",U(M,M.__value),S.__value="video",U(S,S.__value),A.__value="audio",U(A,A.__value),R.__value="document",U(R,R.__value),l(T,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"),a[3]===void 0&&as(()=>a[9].call(T)),l(J,"class","block text-sm font-medium text-gray-700 mb-1"),l(Q,"placeholder","Search in content..."),l(Q,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"),l(ee,"class","block text-sm font-medium text-gray-700 mb-1"),l(j,"type","number"),l(j,"min","1"),l(j,"max","1000"),l(j,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"),l(g,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),oe.disabled=a[5],l(oe,"class","px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"),l(fe,"class","px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200"),l(ie,"class","px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200"),ie.disabled=tt=a[0].length===0,l(ve,"class","flex space-x-2"),l(ue,"class","flex justify-between items-center mt-4"),l(_,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"),l(Be,"class","text-2xl font-bold text-blue-600"),l(we,"class","text-sm text-gray-600"),l(he,"class","text-center"),l(je,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(ze,"class","text-2xl font-bold text-green-600"),l(De,"class","text-sm text-gray-600"),l(pe,"class","text-center"),l(qe,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(Re,"class","text-2xl font-bold text-purple-600"),l(Te,"class","text-sm text-gray-600"),l(_e,"class","text-center"),l(Me,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(He,"class","text-2xl font-bold text-orange-600"),l(Ie,"class","text-sm text-gray-600"),l(ge,"class","text-center"),l(Ue,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(W,"class","grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"),l(ke,"class","text-lg font-semibold"),l(Ve,"class","text-sm text-gray-600"),l(xe,"class","flex justify-between items-center mb-4"),l(de,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(r,"class","container mx-auto p-6 max-w-6xl")},m(x,V){$e(x,o,V),$e(x,r,V),e(r,d),e(r,D),e(r,_),e(_,m),e(_,f),e(_,g),e(g,c),e(c,C),e(c,Y),e(c,I),e(I,b),e(I,E),e(I,q),yt(I,a[2],!0),e(g,se),e(g,F),e(F,K),e(F,ae),e(F,T),e(T,z),e(T,P),e(T,M),e(T,S),e(T,A),e(T,R),yt(T,a[3],!0),e(g,p),e(g,Z),e(Z,J),e(Z,Ne),e(Z,Q),U(Q,a[1]),e(g,Le),e(g,$),e($,ee),e($,Pe),e($,j),U(j,a[4]),e(_,Ae),e(_,ue),e(ue,oe),e(oe,et),e(ue,Ct),e(ue,ve),e(ve,fe),e(ve,Et),e(ve,ie),e(ie,wt),e(r,Dt),e(r,W),e(W,je),e(je,he),e(he,Be),e(Be,st),e(he,Tt),e(he,we),e(W,It),e(W,qe),e(qe,pe),e(pe,ze),e(ze,lt),e(pe,kt),e(pe,De),e(W,Vt),e(W,Me),e(Me,_e),e(_e,Re),e(Re,at),e(_e,St),e(_e,Te),e(W,Ot),e(W,Ue),e(Ue,ge),e(ge,He),e(He,nt),e(ge,Nt),e(ge,Ie),e(r,Lt),e(r,de),e(de,xe),e(xe,ke),e(xe,Pt),e(xe,Ve),e(Ve,rt),e(Ve,At),e(de,jt),X.m(de,null),Bt||(Qt=[Oe(I,"change",a[8]),Oe(T,"change",a[9]),Oe(Q,"input",a[10]),Oe(j,"input",a[11]),Oe(oe,"click",a[6]),Oe(fe,"click",a[12]),Oe(ie,"click",a[7])],Bt=!0)},p(x,[V]){V&4&&yt(I,x[2]),V&8&&yt(T,x[3]),V&2&&Q.value!==x[1]&&U(Q,x[1]),V&16&&_s(j.value)!==x[4]&&U(j,x[4]),V&32&&We!==(We=x[5]?"Searching...":"Search Messages")&&B(et,We),V&32&&(oe.disabled=x[5]),V&1&&tt!==(tt=x[0].length===0)&&(ie.disabled=tt),V&1&&Ye!==(Ye=x[0].length+"")&&B(st,Ye),V&1&&Ge!==(Ge=x[0].filter(fs).length+"")&&B(lt,Ge),V&1&&Ke!==(Ke=x[0].filter(hs).length+"")&&B(at,Ke),V&1&&Xe!==(Xe=new Set(x[0].map(ps)).size+"")&&B(nt,Xe),V&1&&Ze!==(Ze=x[0].length+"")&&B(rt,Ze),ot===(ot=Wt(x))&&X?X.p(x,V):(X.d(1),X=ot(x),X&&(X.c(),X.m(de,null)))},i:zt,o:zt,d(x){x&&(n(o),n(r)),X.d(),Bt=!1,bs(Qt)}}}function cs(a){return a.toLocaleString()}function us(a){switch(a){case"delivered":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function vs(a){return a==="sent"?"📤":"📥"}const fs=a=>a.direction==="received",hs=a=>a.direction==="sent",ps=a=>a.from;function ks(a,o,r){let d=[],w="",D="",_="",m=50,h=!1;Cs(()=>{f()});async function f(){r(5,h=!0);try{const b=new URLSearchParams;D&&b.append("direction",D),_&&b.append("type",_),w&&b.append("search",w),m&&b.append("limit",m.toString());const E=await(await fetch(`/api/messages?${b.toString()}`)).json();E.messages?r(0,d=E.messages):(r(0,d=[]),console.error("Failed to load messages:",E.error))}catch(b){console.error("Error searching messages:",b),r(0,d=[])}finally{r(5,h=!1)}}function g(){if(d.length===0){alert("No messages to export. Please search for messages first.");return}const b=JSON.stringify(d,null,2),H=new Blob([b],{type:"application/json"}),E=URL.createObjectURL(H),G=document.createElement("a");G.href=E,G.download="messages-export.json",G.click()}function c(){D=ns(this),r(2,D)}function C(){_=ns(this),r(3,_)}function L(){w=this.value,r(1,w)}function Y(){m=_s(this.value),r(4,m)}return[d,w,D,_,m,h,f,g,c,C,L,Y,()=>{r(2,D=""),r(3,_=""),r(1,w=""),r(4,m=50),f()}]}class Ns extends gs{constructor(o){super(),xs(this,o,ks,Is,ms,{})}}export{Ns as component};
