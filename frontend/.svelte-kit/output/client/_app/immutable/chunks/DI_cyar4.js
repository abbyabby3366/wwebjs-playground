import{ad as d,A as _,t as s,Z as o,ae as c,af as b}from"./CPPbwToL.js";function v(e,r,t=!1){if(e.multiple){if(r==null)return;if(!o(r))return c();for(var a of e.options)a.selected=r.includes(i(a));return}for(a of e.options){var u=i(a);if(b(u,r)){a.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function m(e){var r=new MutationObserver(()=>{v(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),s(()=>{r.disconnect()})}function q(e,r,t=r){var a=!0;d(e,"change",u=>{var n=u?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(n),i);else{var l=e.querySelector(n)??e.querySelector("option:not([disabled])");f=l&&i(l)}t(f)}),_(()=>{var u=r();if(v(e,u,a),a&&u===void 0){var n=e.querySelector(":checked");n!==null&&(u=i(n),t(u))}e.__value=u,a=!1}),m(e)}function i(e){return"__value"in e?e.__value:e.value}export{q as b};
